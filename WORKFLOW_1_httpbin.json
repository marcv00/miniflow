{
  "id": "8d4518f7-8b60-4fa8-a016-019675f54831",
  "name": "WORKFLOW_1",
  "description": "Consultar API externa, evaluar status==200 y ejecutar comandos según la condición.",
  "nodes": [
    {
      "id": "start-1",
      "type": "start",
      "position": {
        "x": 80,
        "y": 220
      },
      "data": {
        "label": "Inicio",
        "config": {}
      },
      "width": 220,
      "height": 89
    },
    {
      "id": "http-1",
      "type": "http_request",
      "position": {
        "x": 360,
        "y": 220
      },
      "data": {
        "label": "Consultar API",
        "config": {
          "method": "GET",
          "url": "https://api.example.com/data",
          "timeoutMs": 5000,
          "retries": 3,
          "errorPolicy": "STOP_ON_FAIL",
          "map": {
            "status": "$.status",
            "payload": "$.data"
          }
        }
      },
      "width": 260,
      "height": 89
    },
    {
      "id": "conditional-1",
      "type": "conditional",
      "position": {
        "x": 650,
        "y": 220
      },
      "data": {
        "label": "Evaluar respuesta",
        "config": {
          "condition": "context.status == 200"
        }
      },
      "width": 260,
      "height": 89
    },
    {
      "id": "command-true-1",
      "type": "command",
      "position": {
        "x": 960,
        "y": 160
      },
      "data": {
        "label": "Procesar datos",
        "config": {
          "command": "python",
          "scriptPath": "",
          "args": "\"{{context.payload}}\"",
          "outputKey": ""
        }
      },
      "width": 220,
      "height": 89
    },
    {
      "id": "command-false-1",
      "type": "command",
      "position": {
        "x": 960,
        "y": 300
      },
      "data": {
        "label": "Registrar error",
        "config": {
          "command": "echo",
          "args": "\"Error al consumir API\"",
          "outputKey": ""
        }
      },
      "width": 220,
      "height": 89
    },
    {
      "id": "end-1",
      "type": "end",
      "position": {
        "x": 1250,
        "y": 230
      },
      "data": {
        "label": "Fin",
        "config": {}
      },
      "width": 220,
      "height": 89
    }
  ],
  "edges": [
    {
      "id": "edge-1",
      "source": "start-1",
      "target": "http-1",
      "type": "smoothstep"
    },
    {
      "id": "edge-2",
      "source": "http-1",
      "target": "conditional-1",
      "type": "smoothstep"
    },
    {
      "id": "edge-3",
      "source": "conditional-1",
      "sourceHandle": "true",
      "target": "command-true-1",
      "label": "TRUE",
      "type": "smoothstep"
    },
    {
      "id": "edge-4",
      "source": "conditional-1",
      "sourceHandle": "false",
      "target": "command-false-1",
      "label": "FALSE",
      "type": "smoothstep"
    },
    {
      "id": "edge-5",
      "source": "command-true-1",
      "target": "end-1",
      "type": "smoothstep"
    },
    {
      "id": "edge-6",
      "source": "command-false-1",
      "target": "end-1",
      "type": "smoothstep"
    }
  ]
}